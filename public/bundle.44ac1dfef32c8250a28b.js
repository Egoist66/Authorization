(()=>{"use strict";var t={890:(t,n,e)=>{e.d(n,{Z:()=>s});var i=e(537),a=e.n(i),o=e(645),r=e.n(o)()(a());r.push([t.id,"/**\n * Body CSS\n */\n\nhtml,\nbody {\n  height: 100%;\n  transition: 0.3s all ease;\n}\n\nhtml,\nbody,\ninput,\ntextarea,\nbutton {\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.004);\n}\n\n\n/**\n* Sidebar CSS\n*/\n\n#sidebar {\n  background-color: #39A1F4;\n  padding: 15px;\n}\n\n@media (min-width: 768px) {\n  #sidebar {\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    width: 180px;\n    height: 100%;\n    padding-top: 30px;\n  }\n}\n\n\n/**\n* Content CSS\n*/\n@media (min-width: 768px) {\n  #content {\n    margin-left: 180px;\n  }\n}\n\nsmall {\nfont-size: 0.8rem;\n}\n\nbutton {\ntransition: 0.3s all ease;\nbackground-attachment: fixed;\n}\n\n.mui--text-body2, h5 {\nfont-size: 20px;\n}\n#list .mui--text-black-54 {\ncolor: #39A1F4 !important;\n}\n.floating-btn {\n  position: fixed;\n  bottom: 50px;\n  right: 50px;\n}\n\n.modal {\n  width: 600px;\n  height: 300px;\n  margin: 100px auto;\n  background-color: #fff;\n  overflow-y: auto;\n}\n\n.modal-title {\n  text-align: center;\n  color: #39A1F4;\n}\n\n.modal-content {\n  padding: 1rem;\n}\n\n.wrong {\n  color: red\n}\n\n","",{version:3,sources:["webpack://./src/styles/style.css"],names:[],mappings:"AAAA;;EAEE;;AAEF;;EAEE,YAAY;EACZ,yBAAyB;AAC3B;;AAEA;;;;;EAKE,mCAAmC;EACnC,kCAAkC;EAClC,6CAA6C;AAC/C;;;AAGA;;CAEC;;AAED;EACE,yBAAyB;EACzB,aAAa;AACf;;AAEA;EACE;IACE,eAAe;IACf,MAAM;IACN,SAAS;IACT,YAAY;IACZ,YAAY;IACZ,iBAAiB;EACnB;AACF;;;AAGA;;CAEC;AACD;EACE;IACE,kBAAkB;EACpB;AACF;;AAEA;AACA,iBAAiB;AACjB;;AAEA;AACA,yBAAyB;AACzB,4BAA4B;AAC5B;;AAEA;AACA,eAAe;AACf;AACA;AACA,yBAAyB;AACzB;AACA;EACE,eAAe;EACf,YAAY;EACZ,WAAW;AACb;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,kBAAkB;EAClB,sBAAsB;EACtB,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;EAClB,cAAc;AAChB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE;AACF",sourcesContent:["/**\n * Body CSS\n */\n\nhtml,\nbody {\n  height: 100%;\n  transition: 0.3s all ease;\n}\n\nhtml,\nbody,\ninput,\ntextarea,\nbutton {\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.004);\n}\n\n\n/**\n* Sidebar CSS\n*/\n\n#sidebar {\n  background-color: #39A1F4;\n  padding: 15px;\n}\n\n@media (min-width: 768px) {\n  #sidebar {\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    width: 180px;\n    height: 100%;\n    padding-top: 30px;\n  }\n}\n\n\n/**\n* Content CSS\n*/\n@media (min-width: 768px) {\n  #content {\n    margin-left: 180px;\n  }\n}\n\nsmall {\nfont-size: 0.8rem;\n}\n\nbutton {\ntransition: 0.3s all ease;\nbackground-attachment: fixed;\n}\n\n.mui--text-body2, h5 {\nfont-size: 20px;\n}\n#list .mui--text-black-54 {\ncolor: #39A1F4 !important;\n}\n.floating-btn {\n  position: fixed;\n  bottom: 50px;\n  right: 50px;\n}\n\n.modal {\n  width: 600px;\n  height: 300px;\n  margin: 100px auto;\n  background-color: #fff;\n  overflow-y: auto;\n}\n\n.modal-title {\n  text-align: center;\n  color: #39A1F4;\n}\n\n.modal-content {\n  padding: 1rem;\n}\n\n.wrong {\n  color: red\n}\n\n"],sourceRoot:""}]);const s=r},645:t=>{t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e="",i=void 0!==n[5];return n[4]&&(e+="@supports (".concat(n[4],") {")),n[2]&&(e+="@media ".concat(n[2]," {")),i&&(e+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),e+=t(n),i&&(e+="}"),n[2]&&(e+="}"),n[4]&&(e+="}"),e})).join("")},n.i=function(t,e,i,a,o){"string"==typeof t&&(t=[[null,t,void 0]]);var r={};if(i)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(r[l]=!0)}for(var d=0;d<t.length;d++){var u=[].concat(t[d]);i&&r[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),e&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=e):u[2]=e),a&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=a):u[4]="".concat(a)),n.push(u))}},n}},537:t=>{t.exports=function(t){var n=t[1],e=t[3];if(!e)return n;if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),o="/*# ".concat(a," */");return[n].concat([o]).join("\n")}return[n].join("\n")}},379:t=>{var n=[];function e(t){for(var e=-1,i=0;i<n.length;i++)if(n[i].identifier===t){e=i;break}return e}function i(t,i){for(var o={},r=[],s=0;s<t.length;s++){var l=t[s],d=i.base?l[0]+i.base:l[0],u=o[d]||0,c="".concat(d," ").concat(u);o[d]=u+1;var m=e(c),A={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==m)n[m].references++,n[m].updater(A);else{var p=a(A,i);i.byIndex=s,n.splice(s,0,{identifier:c,updater:p,references:1})}r.push(c)}return r}function a(t,n){var e=n.domAPI(n);return e.update(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap&&n.supports===t.supports&&n.layer===t.layer)return;e.update(t=n)}else e.remove()}}t.exports=function(t,a){var o=i(t=t||[],a=a||{});return function(t){t=t||[];for(var r=0;r<o.length;r++){var s=e(o[r]);n[s].references--}for(var l=i(t,a),d=0;d<o.length;d++){var u=e(o[d]);0===n[u].references&&(n[u].updater(),n.splice(u,1))}o=l}}},569:t=>{var n={};t.exports=function(t,e){var i=function(t){if(void 0===n[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}n[t]=e}return n[t]}(t);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(e)}},216:t=>{t.exports=function(t){var n=document.createElement("style");return t.setAttributes(n,t.attributes),t.insert(n,t.options),n}},565:(t,n,e)=>{t.exports=function(t){var n=e.nc;n&&t.setAttribute("nonce",n)}},795:t=>{t.exports=function(t){var n=t.insertStyleElement(t);return{update:function(e){!function(t,n,e){var i="";e.supports&&(i+="@supports (".concat(e.supports,") {")),e.media&&(i+="@media ".concat(e.media," {"));var a=void 0!==e.layer;a&&(i+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),i+=e.css,a&&(i+="}"),e.media&&(i+="}"),e.supports&&(i+="}");var o=e.sourceMap;o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleTagTransform(i,t,n.options)}(n,t,e)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)}}}},589:t=>{t.exports=function(t,n){if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}}},n={};function e(i){var a=n[i];if(void 0!==a)return a.exports;var o=n[i]={id:i,exports:{}};return t[i](o,o.exports,e),o.exports}e.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},e.d=(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),e.nc=void 0,(()=>{var t=e(379),n=e.n(t),i=e(795),a=e.n(i),o=e(569),r=e.n(o),s=e(565),l=e.n(s),d=e(216),u=e.n(d),c=e(589),m=e.n(c),A=e(890),p={};p.styleTagTransform=m(),p.setAttributes=l(),p.insert=r().bind(null,"head"),p.domAPI=a(),p.insertStyleElement=u(),n()(A.Z,p),A.Z&&A.Z.locals&&A.Z.locals;class h{static url="https://podcast-3e160-default-rtdb.europe-west1.firebasedatabase.app/questions.json";static async create(t){let n;try{const e=await fetch(h.url,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});n=await e.json()}catch(t){throw new t}return n}static renderList(){let t,n=h.getQuestionsFromLS();return t=n.length?n.map((t=>`<div class="mui--text-black-54">\n                        ${new Date(t.date).toLocaleDateString()}\n                        ${new Date(t.date).toLocaleTimeString()}\n                    </div>\n                    <div class="query">${t.text}</div>\n                    <br />`)).join(""):'<div class="mui--text-black-54 resp">Вы ничего не спрашивали</div>',console.log(t),t}static async getQuestions(t){const n=await fetch(h.url+`?auth=${t}`),e=await n.json();return e?Object.keys(e).map((t=>({...e[t],id:t}))):[]}static LS(t){const n=h.getQuestionsFromLS();n.push(t),localStorage.setItem("questions",JSON.stringify(n))}static getQuestionsFromLS(){return JSON.parse(localStorage.getItem("questions")||"[]")}static renderAfterAuthBase(t){if(t.length)return t.map((t=>`\n                    <div class="mui--text-black-54 frombase">\n                        ${new Date(t.date).toLocaleDateString()}\n                        ${new Date(t.date).toLocaleTimeString()}\n                    </div>\n                    <div class="query">${t.text}</div>\n                    <br />`)).join("")}}const f=function(){return'\n            <form id="auth-form" class="mui-form">\n                <div class="mui-textfield mui-textfield--float-label">\n                    <input required id="auth-email" type="email">\n                    <label for="auth-email">Enter e-mail </label>\n                </div>\n                <div class="mui-textfield mui-textfield--float-label">\n                    <input required id="auth-password" type="password">\n                    <label for="auth-password">Enter password</label>\n                </div>\n                <button  id="auth-submit" type="submit" class=" mui-btn mui-btn--primary mui-btn--raised">Sign in</button>\n            </form>\n      '};class b{static apiKey="AIzaSyDisvvwkrEH_PZdGJ48Umwyqixxkxr39L4";static authUrl=`https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=${b.apiKey}`;static async authWithEmailAndPassword(t,n){let e;try{const i=await fetch(b.authUrl,{method:"POST",body:JSON.stringify({email:t,password:n,returnSecureToken:!0}),headers:{"Content-type":"application/json"}});e=await i.json()}catch(t){console.log(t)}return e}}const v=b;new function({app:t},n){this.render=()=>{document.querySelector(n).insertAdjacentHTML("beforeend",t)}}({app:(new function(){this.init=()=>`\n      <button id="modal-btn" class="mui-btn mui-btn--fab mui-btn--primary floating-btn">All</button>\n      <div id="sidebar">\n        <div class="mui--text-white mui--text-display1 mui--align-vertical">\n          Podcast\n          <br>\n          <small>by Farid</small>\n        </div>\n      </div>\n      <div id="content" class="mui-container-fluid">\n        <div class="mui-row">\n          <div class="mui-col-sm-10 mui-col-sm-offset-1">\n            <br />\n            <br />\n            <div class="mui--text-black-54 mui--text-body2">Ask a question</div>\n            <div class="mui-divider"></div>\n            <br />\n  \n              \x3c!-- Form --\x3e\n  \n              <form id="form" class="mui-form">\n          <div class="mui-textfield mui-textfield--float-label">\n            <input  maxlength="256" id="user-query" type="text">\n            <label for="user-query">Your query:</label>\n          </div>\n          <button disabled id="ask-query" type="submit" class=" mui-btn mui-btn--primary mui-btn--raised">Ask us</button>\n        </form>\n  \n  \n  \n  \n            <br />\n            <br />\n            <div class="mui--text-black-54 mui--text-body2">Your questions</div>\n            <div class="mui-divider"></div>\n            <br />\n            <div id="list">${h.renderList()}</div>\n            \n          \n          </div>\n        </div>\n      </div>`}).init()},"#app").render();const y=new class{constructor({form:t,trigger:n,input:e}){this.form=document.querySelector(t),this.button=document.querySelector(n),this.input=this.form.querySelector(e),this.list=document.querySelector("#list"),this.response=document.querySelector(".resp"),this.modalBtn=document.querySelector("#modal-btn")}initModal(){this.modalBtn.addEventListener("click",(()=>{console.clear();const t=new class{constructor(){this.modal=document.createElement("div"),this.modalProps=this.describeModal()}describeModal(t,n=function(){}){return this.modal.classList.add("modal"),this.modal.innerHTML=`\n            <h1 class="modal-title">${t}</h1>\n            <div class="modal-content">${n()}</div>\n    \n    \n        `.trim(),{classList:this.modal.classList,muiOverlay:mui.overlay("on",this.modal)}}};console.log(t),t.describeModal("Authorization",f),this.authorizeForm=document.forms[1],this.overlay=document.querySelector("#mui-overlay"),this.authSubmit=document.querySelector("#auth-submit"),this.modalTitle=document.querySelector(".modal-title"),this.authForm=document.querySelector("#auth-form"),this.authForm.addEventListener("submit",(async t=>{t.preventDefault(),this.initAuthForm(t)}))}))}initForm(){this.form.addEventListener("submit",(async t=>{t.preventDefault(),await this.submitFormHandler()}))}async initAuthForm(t){const n=t.target.querySelector("#auth-email").value,e=t.target.querySelector("#auth-password").value,i=await v.authWithEmailAndPassword(n,e);this.authSubmit.disabled=!0,this.authSubmit.textContent="Signing in...";const{idToken:a}=i;return setTimeout((async()=>{const t=await h.getQuestions(a);a?(this.modalTitle.classList.remove("wrong"),this.modalTitle.textContent="Access granted",console.log(t),this.authSubmit.disabled=!1,this.authSubmit.textContent="Sign in",setTimeout((()=>{this.authorizeForm.reset(),this.overlay.remove()}),1500),this.list.innerHTML=h.renderAfterAuthBase(t)):(this.modalTitle.classList.add("wrong"),this.modalTitle.textContent="Access denied",this.authSubmit.disabled=!1,this.authSubmit.textContent="Sign in")}),1500),i}async submitFormHandler(){if(this.isValidInput()){const t={text:this.input.value.trim(),date:(new Date).toJSON()},n=await h.create(t);console.log(n),t.id=await n.name,h.LS(t),this.response&&this.response.remove(),this.list.innerHTML=h.renderList(),this.clearInput(),this.button.disabled=!0,console.log(t)}}clearInput(){this.input.value=""}isValidInput(){return this.input.value.length>=10}WatchInput(){this.input.addEventListener("input",(()=>{this.button.disabled=!this.isValidInput()}))}}({trigger:"#ask-query",form:"#form",input:"#user-query"});y.initForm(),y.WatchInput(),y.initModal()})()})();
//# sourceMappingURL=bundle.44ac1dfef32c8250a28b.js.map